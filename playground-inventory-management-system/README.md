# Playground Inventory Management System

## 기본 시스템 설계 및 구현

- **목표**: 기본적인 재고 관리 시스템 아키텍처 설계 및 구현

### 활동

- 도메인 모델링 (상품, 재고, 창고, 입/출고 이력 등)
- 이벤트 기반 아키텍처 설계 (재고 변동 이벤트 중심)
- RESTful API 설계 (재고 조회, 입/출고 처리, 재고 조정 등)
- 데이터베이스 스키마 설계 (Hibernate/JPA 활용)
- 낙관적/비관적 락 구현을 통한 기본 동시성 제어

### 상세 과제

1. **도메인 모델 설계**
    - 상품과 재고의 관계 모델링 (1:1 vs 1:N)
    - 입출고 이력의 불변성 보장 설계
    - 창고 위치별 재고 관리 전략
2. **API 설계 문서화**
    - Swagger/OpenAPI를 활용한 API 문서화
    - 각 엔드포인트별 권한 설계
3. **기본 동시성 제어 구현**
    - JPA의 @Version 어노테이션을 활용한 낙관적 락 구현
    - SELECT FOR UPDATE를 활용한 비관적 락 구현
    - 두 방식의 성능 비교 테스트

---

## 동시성 제어 및 트랜잭션 관리

**목표**: 고부하 환경에서 데이터 정합성을 보장하는 시스템 구현

### 활동

- 분산 락 구현 (Redis, Zookeeper 활용)
- 트랜잭션 격리 수준 최적화
- 재고 차감 전략 비교 (선차감 vs 후차감)
- SAGA 패턴 구현 (분산 트랜잭션 처리)
- 동시 접근 시나리오 테스트 (JMeter, Gatling)

### 상세 과제

1. **분산 락 메커니즘 구현**
    - Redis를 활용한 분산 락 구현 (Redisson)
    - 락 획득 실패 시 재시도 전략 구현
    - 데드락 방지 메커니즘 구현
2. **고급 트랜잭션 처리**
    - 재고 차감 실패 시 보상 트랜잭션 구현
    - 트랜잭션 타임아웃 최적화
    - Spring의 @Transactional 어노테이션 고급 활용
3. **부하 테스트 시나리오 작성**
    - 동시에 100명이 같은 상품을 구매하는 시나리오
    - 대량 입고와 출고가 동시에 발생하는 시나리오
    - 재고 조회와 업데이트가 번갈아 발생하는 시나리오

---

## CQRS 패턴 및 이벤트 소싱

**목표**: 읽기/쓰기 작업 분리를 통한 성능 최적화

### 활동

- Command와 Query 모델 분리
- 이벤트 소싱 아키텍처 구현 (Axon Framework)
- 이벤트 스토어 설계 (EventStoreDB, Kafka)
- 읽기 모델 최적화 (MongoDB, Elasticsearch)
- 재고 집계 및 통계 기능 구현

### 상세 과제

1. **CQRS 구현**
    - Command 모델 설계 (재고 변경 처리용)
    - Query 모델 설계 (재고 조회 최적화)
    - 두 모델 간 데이터 일관성 유지 전략
2. **이벤트 소싱 구현**
    - 재고 변동 이벤트 스키마 정의
    - 이벤트 저장소 구현 (Kafka 활용)
    - 이벤트를 통한 상태 재구성 메커니즘
3. **고급 조회 기능 구현**
    - 실시간 재고 상태 대시보드
    - 기간별 재고 변동 분석 리포트
    - 임계치 기반 재고 알림 시스템

---

## 확장성 및 시스템 통합

**목표**: 대규모 서비스 환경을 위한 확장성 확보 및 통합

### 활동

- 마이크로서비스로 분할 (재고 서비스, 알림 서비스, 분석 서비스)
- 메시지 큐 기반 시스템 통합 (Kafka, RabbitMQ)
- 실시간 재고 변동 알림 시스템 구현 (WebSocket)
- 클라우드 네이티브 확장 전략 (쿠버네티스 기반 오토스케일링)
- 성능 모니터링 및 분석 (APM 도구 적용)

### 상세 과제

1. **마이크로서비스 분할**
    - 서비스 간 경계 정의
    - API Gateway 구현 (Spring Cloud Gateway)
    - 서비스 디스커버리 구현 (Eureka)
2. **이벤트 기반 통합**
    - 도메인 이벤트 발행/구독 시스템 구현
    - 실패한 이벤트 처리를 위한 DLQ 구현
    - 이벤트 스키마 버전 관리 전략
3. **모니터링 시스템 구축**
    - 주요 메트릭 정의 및 수집 (Prometheus)
    - 재고 부족 임계치 알림 시스템
    - 실시간 재고 변동 시각화 (Grafana)

---

## References

### Books

- **도메인 주도 설계** - 에릭 에반스
- **마이크로서비스 패턴** - 크리스 리처드슨
- **클린 아키텍처** - 로버트 C. 마틴
- **데이터 중심 애플리케이션 설계** - 마틴 클레프만

### Documents

- Spring Framework 공식 문서
- Kafka 공식 문서
- Redis 공식 문서
- Axon Framework 가이드

### Courses

- 이벤트 소싱 및 CQRS 패턴 (Udemy)
- 분산 시스템 설계 (Coursera)
- 쿠버네티스 기초 및 고급 (Pluralsight)

---

## KPI

### Tech

- 시스템 설계의 확장성과 유연성
- 동시성 제어 메커니즘의 효율성
- 코드 품질 및 테스트 커버리지
- 성능 테스트 결과

### Business

- 재고 정확도 99.9% 이상 유지
- 초당 1,000건 이상의 트랜잭션 처리 능력
- 재고 조회 응답 시간 100ms 이하
- 시스템 가용성 99.95% 이상