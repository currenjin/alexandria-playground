## 기초

### Q1. 관계형 모델과 문서 모델은 언제 선택하나요?
A. 관계형은 조인과 무결성이 중요한 경우, 문서형은 자기완결형 읽기 패턴이 많은 경우 유리하다. 실무에서는 혼합 사용이 흔하다.

### Q2. 정규화와 비정규화의 핵심 차이는?
A. 정규화는 중복을 줄여 일관성을 높이고, 비정규화는 조회 성능을 높인다. 읽기/쓰기 비율과 변경 빈도로 결정한다.

### Q3. 인덱스가 많을수록 항상 좋은가요?
A. 아니다. 읽기는 빨라지지만 쓰기 비용과 저장공간이 늘어난다. 실제 쿼리 패턴에 맞춘 최소 인덱스가 좋다.

## 실무

### Q4. 스키마 변경을 무중단으로 하려면?
A. Expand-Migrate-Contract를 사용한다. 새 필드 추가, 이중 쓰기/읽기, 백필 완료 후 구 필드 제거 순서를 지킨다.

### Q5. N+1 문제는 어떻게 탐지/해결하나요?
A. 요청당 쿼리 수를 메트릭화해 탐지한다. 해결은 JOIN, batch loading, 캐시/비정규화 중 접근패턴에 맞는 방식을 택한다.

### Q6. 커버링 인덱스는 언제 유효한가요?
A. 고빈도 조회 쿼리에서 반환 컬럼이 고정될 때 효과가 크다. 단, 인덱스 비대화로 쓰기 성능이 떨어질 수 있어 선택적으로 적용해야 한다.

## 면접

### Q7. "문서 DB가 RDB보다 확장성이 좋다"에 동의하나요?
A. 절대 명제는 아니다. 확장성은 데이터 모델뿐 아니라 파티셔닝, 쿼리 패턴, 운영 역량에 좌우된다. RDB도 샤딩/리드 레플리카로 크게 확장 가능하다.

### Q8. 상품-주문 도메인에서 어떤 데이터는 비정규화하고 어떤 데이터는 정규화할까요?
A. 주문 스냅샷(당시 가격/주소)은 비정규화, 원본 상품/회원 엔터티는 정규화가 일반적이다. 과거 이력 보존과 업데이트 일관성을 분리해서 본다.

### Q9. 인덱스 하나만 지울 수 있다면 무엇을 기준으로 결정할까요?
A. 사용률(실행계획/통계), 쓰기 증폭 기여도, 중복 인덱스 여부를 본다. 읽기 이득이 미미하고 쓰기 비용이 큰 인덱스를 우선 제거한다.
