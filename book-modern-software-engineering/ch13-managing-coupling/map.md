# Ch13. Managing Coupling

## TL;DR
- **결합도**는 모듈 간 의존성의 정도다. 한 모듈의 변경이 다른 모듈에 미치는 영향을 결정한다.
- **낮은 결합도**가 목표다. 완전히 없앨 수는 없지만, **불필요한 결합**을 제거해야 한다.
- DIP(의존성 역전 원칙)는 결합도를 관리하는 핵심 원칙이다.
- **이벤트 기반 아키텍처**와 **비동기 통신**은 시간적 결합을 줄이는 방법이다.

## Key Ideas
- **결합도의 종류**:
  - 내용 결합(가장 나쁨): 다른 모듈의 내부를 직접 참조.
  - 공통 결합: 전역 데이터 공유.
  - 제어 결합: 다른 모듈의 흐름을 제어하는 플래그 전달.
  - 스탬프 결합: 필요 이상의 데이터 전달.
  - 데이터 결합(가장 좋음): 필요한 데이터만 전달.
- **DIP(의존성 역전 원칙)**: 상위 모듈이 하위 모듈에 의존하지 않고, 둘 다 추상화(인터페이스)에 의존한다.
- **시간적 결합**: A가 끝나야 B가 시작되는 의존. 비동기 통신, 이벤트, 메시지 큐로 해소할 수 있다.
- **배포 결합**: A를 배포할 때 B도 함께 배포해야 하는 의존. 독립 배포를 목표로 한다.
- **마이크로서비스와 결합**: 서비스로 나눠도 API 계약, 공유 DB, 공유 라이브러리를 통해 결합될 수 있다.

## Trade-offs

| 선택 | 장점 | 단점 | 언제 |
|-----|-----|-----|-----|
| 동기 호출 | 단순, 즉시 결과 | 시간적 결합 | 즉시성 필요, 단순 흐름 |
| 이벤트/메시지 | 느슨한 결합 | 디버깅 어려움, 최종 일관성 | 독립성이 중요한 모듈 간 |
| 공유 DB | 빠른 데이터 접근 | 스키마 변경이 전파 | 피해야 함 |
| API 계약 | 명시적 경계 | 변경 시 조율 필요 | 모듈/서비스 간 통신 |

## Open Questions
- 현재 시스템에서 가장 결합도가 높은 모듈 쌍은 무엇인가?
- 배포 시 항상 함께 배포해야 하는 컴포넌트가 있는가?
