# Ch11. Separation of Concerns

## TL;DR
- **관심사 분리**는 서로 다른 문제를 서로 다른 곳에서 처리하는 것이다.
- 각 관심사를 독립적으로 이해하고 변경할 수 있으면 복잡성이 줄어든다.
- 관심사 분리는 모듈성, 응집도, 결합도와 밀접하게 연관된 원칙이다.
- **포트와 어댑터(Hexagonal)** 아키텍처는 비즈니스 로직과 인프라 관심사를 분리하는 대표적 패턴이다.

## Key Ideas
- **관심사(Concern)란**: 시스템이 해결해야 하는 각각의 문제 영역. 비즈니스 로직, 데이터 저장, UI, 인증 등이 각각의 관심사다.
- **관심사 분리의 이유**: 한 관심사를 변경할 때 다른 관심사에 영향을 주지 않기 위해서다.
- **계층 구조**: 전통적 방법. Presentation → Business Logic → Data Access. 하지만 비즈니스 로직이 인프라에 의존하게 되는 문제가 있다.
- **포트와 어댑터**: 비즈니스 로직이 중심, 외부(DB, UI, API)가 어댑터. 비즈니스 로직은 포트(인터페이스)만 알고, 구체적 인프라를 모른다.
- **수직 슬라이스**: 기능 단위로 모든 계층을 관통하는 슬라이스를 만든다. 기능 추가 시 한 슬라이스만 수정하면 된다.
- **DDD의 Bounded Context**: 같은 용어도 맥락에 따라 다른 의미를 가진다. 각 맥락(관심사)을 명시적으로 분리한다.

## Trade-offs

| 선택 | 장점 | 단점 | 언제 |
|-----|-----|-----|-----|
| 계층 구조 | 직관적, 익숙함 | 기능 변경 시 여러 계층 수정 | 간단한 CRUD 앱 |
| 포트와 어댑터 | 비즈니스 로직 독립 | 초기 구조 복잡 | 복잡한 도메인 로직 |
| 수직 슬라이스 | 기능 단위 독립 | 슬라이스 간 중복 가능 | 기능별 팀 구성 |
| Bounded Context | 도메인 명확성 | 컨텍스트 간 통신 비용 | 큰 도메인, 여러 팀 |

## Open Questions
- 현재 시스템에서 비즈니스 로직이 인프라(DB, 프레임워크)에 직접 의존하고 있는 부분은?
- 관심사 분리가 잘 되어 있는지를 어떤 기준으로 판단하는가?
