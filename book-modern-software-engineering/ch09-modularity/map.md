# Ch09. Modularity

## TL;DR
- **모듈성**은 시스템을 독립적으로 변경 가능한 단위로 나누는 것이다. 복잡성 관리의 가장 기본 전략이다.
- 좋은 모듈은 **명확한 경계**, **안정적 인터페이스**, **교체 가능성**을 갖는다.
- 모듈의 크기보다 **경계의 품질**이 더 중요하다.
- 마이크로서비스는 모듈성의 극단적 형태지만, 모듈성의 유일한 방법은 아니다.

## Key Ideas
- **모듈 = 독립적 변경 단위**: 모듈 내부를 변경해도 다른 모듈에 영향이 없어야 한다.
- **경계의 중요성**: 모듈 사이의 인터페이스가 불명확하면 모듈화의 이점이 사라진다. 경계를 넘는 통신은 잘 정의된 계약으로만 이루어져야 한다.
- **서비스 vs 모듈**: 서비스(프로세스 경계)로 나누면 강제적 분리가 되지만, 네트워크 오버헤드와 분산 시스템 복잡성이 추가된다. 잘 설계된 모놀리스의 모듈이 나쁜 마이크로서비스보다 낫다.
- **교체 가능성(Replaceability)**: 좋은 모듈은 교체할 수 있다. 교체가 어렵다면 모듈 경계가 잘못된 것이다.
- **테스트와 모듈성**: 모듈이 독립적이면 독립적으로 테스트할 수 있다. 테스트가 어렵다면 모듈성이 부족한 신호다.

## Trade-offs

| 선택 | 장점 | 단점 | 언제 |
|-----|-----|-----|-----|
| 모놀리스 + 모듈 | 단순, 디버깅 쉬움 | 규율 없으면 경계 침범 | 시작점, 소규모 팀 |
| 마이크로서비스 | 강제적 분리, 독립 배포 | 분산 시스템 복잡성 | 팀/도메인 경계가 명확할 때 |
| 작은 모듈 | 이해하기 쉬움 | 모듈 간 통신 증가 | 단일 책임이 명확할 때 |
| 큰 모듈 | 통신 감소 | 내부 복잡도 증가 | 밀접한 기능 그룹 |

## Open Questions
- 현재 시스템에서 "변경할 때 여러 모듈을 동시에 수정해야 하는" 경우가 얼마나 자주 발생하는가?
- 모듈 경계는 어떤 기준으로 나누고 있는가? 기술적 기준인가, 도메인 기준인가?
