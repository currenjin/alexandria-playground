# Ch10. Cohesion

## TL;DR
- **응집도**는 모듈 내부의 요소들이 얼마나 밀접하게 관련되어 있는지를 나타낸다.
- 높은 응집도 = 모듈이 **하나의 명확한 목적**을 가진다. 관련 있는 것들을 함께 둔다.
- 낮은 응집도 = 서로 관련 없는 기능이 한 모듈에 모여 있다. 변경 이유가 여러 개다.
- 응집도는 단일 책임 원칙(SRP)과 직접 연결된다: **변경의 이유가 하나**여야 한다.

## Key Ideas
- **응집도의 스펙트럼**: 기능적 응집(가장 높음) > 순차적 응집 > 통신적 응집 > 절차적 응집 > 시간적 응집 > 논리적 응집 > 우연적 응집(가장 낮음).
- **기능적 응집**: 모듈의 모든 요소가 단일 기능을 수행하기 위해 존재한다. 이상적인 상태.
- **우연적 응집**: "유틸리티 클래스"처럼 관련 없는 기능이 편의상 모여 있다. 피해야 할 상태.
- **변경의 이유로 판단**: "이 모듈을 변경해야 하는 이유가 몇 가지인가?"가 응집도의 실용적 척도다.
- **패키지 구조와 응집도**: 기능(feature) 기반 패키지가 계층(layer) 기반 패키지보다 응집도가 높다.

## Trade-offs

| 선택 | 장점 | 단점 | 언제 |
|-----|-----|-----|-----|
| 기능 기반 패키지 | 높은 응집도, 도메인 일치 | 기술적 중복 가능 | 도메인 중심 설계 시 |
| 계층 기반 패키지 | 기술적 관심사 분리 | 기능 변경 시 여러 패키지 수정 | 기술 팀 구조일 때 |
| 높은 응집 + 작은 클래스 | 명확한 책임 | 클래스 수 증가 | SRP를 엄격히 적용 |
| 적당한 응집 + 큰 클래스 | 파일 수 적음 | 책임 불명확 | 작은 프로젝트 |

## Open Questions
- 유틸리티 클래스가 많다면, 이를 적절한 도메인 모듈로 재배치할 수 있는가?
- 한 클래스/모듈의 변경 이유가 몇 가지인지 나열해 보았는가?
