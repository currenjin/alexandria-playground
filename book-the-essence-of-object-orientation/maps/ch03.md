# Ch03. 타입과 추상화

## TL;DR
- **추상화**는 복잡성을 다루기 위해 불필요한 부분을 제거하고 본질에 집중하는 것이다.
- **타입**은 객체를 분류하는 기준이며, 동일한 행동을 하는 객체들의 집합이다.
- 타입은 **행동에 의해 결정**되며, 상태가 아닌 행동이 타입의 본질이다.
- **일반화/특수화**는 행동의 포함 관계로 정의된다.

## Key Ideas
- **지하철 노선도 메타포**: 해리 벡의 지하철 노선도는 지리적 정확성을 버리고 이용객에게 필요한 정보만 남긴 추상화의 좋은 예다.
- **추상화(Abstraction)**: 현실에서 출발하되 불필요한 부분을 제거하여 단순화한다.
- **개념(Concept)**: 공통점을 기반으로 객체를 분류하는 아이디어다.
  - 심볼(Symbol): 개념을 가리키는 이름
  - 내연(Intension): 개념의 정의
  - 외연(Extension): 개념에 속하는 객체들의 집합
- **타입(Type)**: 객체를 분류하기 위한 개념으로, 공통의 행동을 가진 객체들의 집합이다.
- **동적 모델 vs 정적 모델**:
  - 동적 모델: 시간에 따른 상태 변화
  - 정적 모델: 타입에 의한 구조적 관점
- **일반화(Generalization)**: 더 일반적인 타입으로 추상화한다. 슈퍼타입은 서브타입의 행동을 포함한다.
- **특수화(Specialization)**: 더 구체적인 타입으로 세분화한다. 서브타입은 슈퍼타입의 행동을 모두 수행한다.

## Trade-offs

| 관점 | 장점 | 단점 | 언제 |
|------|------|------|------|
| 데이터 기반 분류 | 이해하기 쉽다 | 변경에 취약하고 다형성 활용이 어렵다 | 단순 DTO에 적합하다 |
| 행동 기반 분류 | 유연하고 다형성 활용이 가능하다 | 추상화 수준 결정이 어렵다 | 비즈니스 로직 구현에 적합하다 |
| 깊은 상속 계층 | 세밀한 분류가 가능하다 | 복잡하고 이해하기 어렵다 | 명확한 is-a 관계가 있을 때 |
| 얕은 상속 계층 | 단순하고 이해하기 쉽다 | 코드 중복이 발생할 수 있다 | 대부분의 경우에 적합하다 |

## Apply our Domain
- 도메인 객체들의 타입 계층 정리하기
- 행동 기반으로 타입 분류 재검토하기
- 불필요하게 세분화된 타입 계층 단순화하기

## Open Questions
- 현재 타입 분류가 상태 기반인가, 행동 기반인가?
- 상속 계층이 너무 깊지는 않은가?
- 추상화 수준이 적절한가? 너무 구체적이거나 너무 추상적이지 않은가?
