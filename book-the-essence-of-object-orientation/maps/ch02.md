# Ch02. 이상한 나라의 객체

## TL;DR
- 객체는 **상태, 행동, 식별자**를 가진 실체다.
- 상태는 행동의 결과로 변경되며, **행동이 상태를 결정**한다.
- 객체는 상태가 아닌 **행동을 중심으로 설계**해야 한다.
- 동일한 상태라도 **식별자**가 다르면 다른 객체다.

## Key Ideas
- **앨리스 메타포**: 앨리스가 음료를 마시거나 케이크를 먹어서 키가 변하는 것처럼, 객체의 상태는 행동의 결과로 변경된다.
- **상태(State)**: 객체의 특정 시점의 조건이나 상황을 나타내는 프로퍼티들의 집합이다.
- **프로퍼티(Property)**: 객체의 상태를 구성하는 정적인 특성이다.
- **프로퍼티 값(Property Value)**: 시간에 따라 변할 수 있는 동적인 값이다.
- **행동(Behavior)**: 외부 요청에 응답하고 상태를 변경하는 객체의 활동이다.
- **식별자(Identity)**: 객체를 구별하는 고유한 속성으로, 값과 객체의 차이점이다.
- **값(Value)**: 불변이며 동등성으로 비교한다. (예: 숫자, 문자열)
- **객체(Object)**: 가변이며 동일성으로 비교한다.
- **캡슐화**: 상태를 외부에 노출하지 않고 행동만 노출한다.

## Trade-offs

| 관점 | 장점 | 단점 | 언제 |
|------|------|------|------|
| 상태 중심 설계 | 직관적이고 이해하기 쉽다 | 캡슐화가 약해지고, 변경에 취약하다 | 단순한 데이터 전송 객체에 적합하다 |
| 행동 중심 설계 | 캡슐화가 강하고, 변경에 유연하다 | 초기 설계가 어렵다 | 비즈니스 로직이 복잡할 때 적합하다 |
| 값 객체 | 불변성으로 안전하고 공유가 가능하다 | 변경 시 새 객체 생성이 필요하다 | 돈, 날짜, 좌표 등에 적합하다 |

## Apply our Domain
- VO(Value Object)와 Entity 구분하기
- getter/setter 대신 행동 중심 메서드 정의하기
- 상태 변경은 반드시 행동을 통해서만 이루어지도록 설계하기

## Open Questions
- 현재 도메인 모델에서 상태를 직접 노출하는 객체가 있는가?
- 값으로 다뤄야 할 개념을 객체로 다루고 있지는 않은가?
- 행동 없이 상태만 가진 빈약한 도메인 모델(Anemic Domain Model)은 아닌가?
