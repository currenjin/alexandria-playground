# Ch06. 객체 지도

## TL;DR
- **기능이 아닌 구조를 중심으로** 시스템을 설계해야 한다.
- **도메인 모델**은 사용자의 멘탈 모델을 반영한 안정적인 구조다.
- **유스케이스**는 기능적 요구사항을 사용자 관점에서 기술한 것이다.
- 안정적인 도메인 모델 위에 유스케이스를 구현하면 변경에 강한 시스템이 된다.

## Key Ideas
- **기능 vs 구조**:
  - 기능(Function): 사용자의 목표를 만족시키기 위한 시스템의 행위
  - 구조(Structure): 시스템의 형태, 사용자나 이해관계자들이 도메인에 관해 생각하는 개념과 개념 간의 관계
  - 기능은 자주 변경되지만, 구조는 상대적으로 안정적이다.
- **도메인 모델(Domain Model)**:
  - 사용자가 프로그램을 사용하는 대상 분야에 대한 지식을 선택적으로 단순화한 것
  - 소프트웨어는 도메인에 존재하는 문제를 해결하기 위해 만들어진다.
  - 멘탈 모델: 사용자들이 도메인에 대해 가지고 있는 지식을 구조적으로 표현한 것
  - 도메인 모델은 분석 모델이면서 동시에 설계 모델이다.
- **유스케이스(Use Case)**:
  - 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름
  - 시스템의 기능적 요구사항을 사용자 관점에서 기술한다.
  - 유스케이스는 설계가 아니다. 단지 기능을 기술할 뿐이다.
- **책임 할당**:
  - 도메인 모델에 있는 개념에게 책임을 할당한다.
  - 유스케이스를 실현하기 위한 협력을 설계한다.
  - 소프트웨어의 핵심은 협력을 통해 기능을 구현하는 것이다.

## Trade-offs

| 관점 | 장점 | 단점 | 언제 |
|------|------|------|------|
| 기능 중심 설계 | 요구사항과 직접 매핑된다 | 변경에 취약하다 | 요구사항이 고정적일 때 |
| 구조 중심 설계 | 변경에 강하다 | 초기 도메인 이해 비용이 있다 | 대부분의 경우에 적합하다 |
| CRUD 중심 | 개발이 빠르다 | 도메인 지식이 코드에 녹아들지 않는다 | 단순한 데이터 관리에 적합하다 |
| DDD 스타일 | 도메인 전문가와 소통이 쉽다 | 학습 곡선이 있다 | 복잡한 비즈니스에 적합하다 |

## Apply our Domain
- 핵심 도메인 모델 다이어그램 작성하기
- 주요 유스케이스 식별하고 문서화하기
- 유스케이스를 도메인 모델 객체들의 협력으로 실현하기

## Open Questions
- 현재 설계가 기능 중심인가, 구조 중심인가?
- 도메인 전문가의 언어와 코드의 언어가 일치하는가?
- 유스케이스 변경 시 얼마나 많은 코드가 영향을 받는가?
